import React from 'react'
import styles from './tree.module.css'
import { useEffect } from 'react';

const Tree = () => {
    const animateCircles = () => {
        const circles = document.querySelectorAll(`.${styles.circle}`);
        const lines = document.querySelectorAll(`.${styles.drawLine}`);       
        // Convert NodeList to Array for sorting
        const circlesArray = Array.from(circles);

        // Sort circles based on y coordinates
        circlesArray.sort((a, b) => {
            const aY = parseFloat(a.querySelector('path').getAttribute('d').match(/[\d.]+/g)[1]);
            const bY = parseFloat(b.querySelector('path').getAttribute('d').match(/[\d.]+/g)[1]);
            return bY - aY; // Descending order
        });

        //restart line animation

        lines.forEach(line => {
            line.style.color = 'white';
            line.classList.remove(`.${styles.drawLine}`);
            void line.offsetWidth; // Trigger reflow
            line.classList.add(`.${styles.drawLine}`);
        });
        

        circlesArray.forEach((circle, index) => {
            // Set initial opacity to 0
            circle.style.opacity = 0;
            setTimeout(() => {
                // Gradually increase opacity from 0 to 1 over 500 milliseconds
                let opacity = 0;
                const intervalId = setInterval(() => {
                    opacity += 0.1;
                    circle.style.opacity = opacity;
                    if (opacity >= 1) {
                        clearInterval(intervalId);
                    }
                }, 50); // Adjust the interval as needed
            }, index * 100); // Adjust the delay as needed
        });
        
        setTimeout(animateCircles, circlesArray.length * 150);

    }
    useEffect(() => {
       animateCircles();
    });

  return (
    <svg width="100%" height="100%" viewBox="0 0 592 576" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="0 1">
<g key= '2' id="c3" class={styles.circle}>
<path id="Vector" d="M307.944 445.32C315.084 445.32 320.878 451.115 320.878 458.254C320.878 465.394 315.084 471.188 307.944 471.188C300.805 471.188 295.01 465.394 295.01 458.254C295.01 451.115 300.805 445.32 307.944 445.32Z" />
</g>
<g key='1' id="c2" class={styles.circle}>
<path id="Vector_2" d="M273.198 480.326C266.058 480.326 260.264 486.12 260.264 493.26C260.264 500.399 266.058 506.194 273.198 506.194C280.338 506.194 286.132 500.399 286.132 493.26C286.132 486.12 280.338 480.326 273.198 480.326Z" />
</g>
<g id="c5" class={styles.circle}>
<path id="Vector_3" d="M247.33 356.126C254.47 356.126 260.264 361.921 260.264 369.06C260.264 376.2 254.47 381.994 247.33 381.994C240.19 381.994 234.396 376.2 234.396 369.06C234.396 361.921 240.19 356.126 247.33 356.126Z"/>
</g>
<g id="c17" class={styles.circle}>
<path id="Vector_4" d="M339.033 400.271C346.172 400.271 351.967 406.065 351.967 413.205C351.967 420.345 346.172 426.139 339.033 426.139C331.893 426.139 326.099 420.345 326.099 413.205C326.099 406.065 331.893 400.271 339.033 400.271Z" />
</g>
<g key= '0' id="c1" className={styles.circle}>
<path id="Vector_5" d="M291.414 533.51C298.554 533.51 304.348 539.304 304.348 546.444C304.348 553.583 298.554 559.378 291.414 559.378C284.275 559.378 278.48 553.583 278.48 546.444C278.48 539.304 284.275 533.51 291.414 533.51Z"/>
</g>
<g id="c18" class={styles.circle}>
<path id="Vector_6" d="M317.282 366.826C324.422 366.826 330.216 372.621 330.216 379.76C330.216 386.9 324.422 392.694 317.282 392.694C310.143 392.694 304.348 386.9 304.348 379.76C304.348 372.621 310.143 366.826 317.282 366.826Z"/>
</g>
<g id="c20" class={styles.circle}>
<path id="Vector_7" d="M364.901 366.826C372.04 366.826 377.835 372.621 377.835 379.76C377.835 386.9 372.04 392.694 364.901 392.694C357.761 392.694 351.967 386.9 351.967 379.76C351.967 372.621 357.761 366.826 364.901 366.826Z"/>
</g>
<g id="c4" class={styles.circle}>
<path id="Vector_8" d="M235.089 438.183C242.229 438.183 248.023 443.978 248.023 451.117C248.023 458.257 242.229 464.051 235.089 464.051C227.95 464.051 222.155 458.257 222.155 451.117C222.155 443.978 227.95 438.183 235.089 438.183Z"/>
</g>
<g id="c8" class={styles.circle}>
<path id="Vector_9" d="M146.409 313.423C153.549 313.423 159.343 319.217 159.343 326.357C159.343 333.496 153.549 339.291 146.409 339.291C139.27 339.291 133.475 333.496 133.475 326.357C133.475 319.217 139.27 313.423 146.409 313.423Z"/>
</g>
<g id="c10" class={styles.circle}>
<path id="Vector_10" d="M72.9051 252.071C69.4438 245.827 71.7025 237.95 77.9469 234.489C84.1913 231.027 92.0685 233.286 95.5298 239.53C98.9911 245.775 96.7324 253.652 90.488 257.113C84.2436 260.575 76.3665 258.316 72.9051 252.071Z"/>
</g>
<g id="c11" class={styles.circle}>
<path id="Vector_11" d="M56.8446 179.009C63.9842 179.009 69.7786 184.803 69.7786 191.943C69.7786 199.082 63.9842 204.877 56.8446 204.877C49.705 204.877 43.9106 199.082 43.9106 191.943C43.9106 184.803 49.7051 179.009 56.8446 179.009Z" />
</g>
<g id="c9" class={styles.circle}>
<path id="Vector_12" d="M82.7126 296.235C89.8522 296.235 95.6466 302.029 95.6466 309.169C95.6466 316.308 89.8522 322.103 82.7126 322.103C75.5731 322.103 69.7786 316.308 69.7786 309.169C69.7786 302.029 75.5731 296.235 82.7126 296.235Z"/>
</g>
<g id="c7" class={styles.circle}>
<path id="Vector_13" d="M177.54 280C184.679 280 190.474 285.794 190.474 292.934C190.474 300.074 184.679 305.868 177.54 305.868C170.4 305.868 164.606 300.074 164.606 292.934C164.606 285.794 170.4 280 177.54 280Z"/>
</g>
<g id="c12" class={styles.circle}>
<path id="Vector_14" d="M166.298 119.878C173.438 119.878 179.232 125.672 179.232 132.812C179.232 139.952 173.438 145.746 166.298 145.746C159.159 145.746 153.364 139.952 153.364 132.812C153.364 125.672 159.159 119.878 166.298 119.878Z"/>
</g>
<g id="c14" class={styles.circle}>
<path id="Vector_15" d="M140.43 79.1512C147.57 79.1512 153.364 84.9457 153.364 92.0853C153.364 99.2248 147.57 105.019 140.43 105.019C133.291 105.019 127.496 99.2248 127.496 92.0853C127.496 84.9457 133.291 79.1512 140.43 79.1512Z" />
</g>
<g id="c13" class={styles.circle}>
<path id="Vector_16" d="M203.408 86.6815C210.547 86.6815 216.342 92.4759 216.342 99.6155C216.342 106.755 210.547 112.55 203.408 112.55C196.268 112.55 190.474 106.755 190.474 99.6155C190.474 92.4759 196.268 86.6815 203.408 86.6815Z" />
</g>
<g id="c40" class={styles.circle}>
<path id="Vector_17" d="M188.862 39.9408C196.001 39.9408 201.796 45.7352 201.796 52.8748C201.796 60.0144 196.001 65.8088 188.862 65.8088C181.722 65.8088 175.927 60.0143 175.927 52.8748C175.927 45.7352 181.722 39.9408 188.862 39.9408Z" />
</g>
<g id="c6" class={styles.circle}>
<path id="Vector_18" d="M202.967 338.492C209.863 336.644 216.96 340.742 218.808 347.638C220.656 354.534 216.558 361.631 209.662 363.479C202.766 365.327 195.669 361.229 193.821 354.333C191.973 347.437 196.071 340.34 202.967 338.492Z"/>
</g>
<g id="c19" class={styles.circle}>
<path id="Vector_19" d="M282.076 313.423C289.216 313.423 295.01 319.217 295.01 326.357C295.01 333.496 289.216 339.291 282.076 339.291C274.937 339.291 269.142 333.496 269.142 326.357C269.142 319.217 274.937 313.423 282.076 313.423Z" />
</g>
<g id="c27" class={styles.circle}>
<path id="Vector_20" d="M332.601 255.344C339.071 252.326 346.772 255.129 349.789 261.6C352.806 268.07 350.003 275.771 343.533 278.788C337.062 281.805 329.362 279.003 326.345 272.532C323.327 266.061 326.13 258.361 332.601 255.344Z" />
</g>
<g id="c23" class={styles.circle}>
<path id="Vector_21" d="M390.769 313.423C397.908 313.423 403.703 319.217 403.703 326.357C403.703 333.496 397.908 339.291 390.769 339.291C383.629 339.291 377.835 333.496 377.835 326.357C377.835 319.217 383.629 313.423 390.769 313.423Z"/>
</g>
<g id="c24" class={styles.circle}>
<path id="Vector_22" d="M452.835 316.33C459.974 316.33 465.769 322.124 465.769 329.264C465.769 336.403 459.974 342.198 452.835 342.198C445.695 342.198 439.901 336.403 439.901 329.264C439.901 322.124 445.695 316.33 452.835 316.33Z" />
</g>
<g id="c28" class={styles.circle}>
<path id="Vector_23" d="M314.991 191.943C322.13 191.943 327.925 197.737 327.925 204.877C327.925 212.016 322.13 217.811 314.991 217.811C307.851 217.811 302.057 212.016 302.057 204.877C302.057 197.737 307.851 191.943 314.991 191.943Z" />
</g>
<g id="c29" class={styles.circle}>
<path id="Vector_24" d="M277.98 145.746C285.12 145.746 290.914 151.54 290.914 158.68C290.914 165.82 285.12 171.614 277.98 171.614C270.841 171.614 265.046 165.82 265.046 158.68C265.046 151.54 270.841 145.746 277.98 145.746Z" />
</g>
<g id="c32" class={styles.circle}>
<path id="Vector_25" d="M330.216 132.812C337.356 132.812 343.15 138.606 343.15 145.746C343.15 152.886 337.356 158.68 330.216 158.68C323.077 158.68 317.282 152.886 317.282 145.746C317.282 138.606 323.077 132.812 330.216 132.812Z" />
</g>
<g id="c33" class={styles.circle}>
<path id="Vector_26" d="M364.901 82.6617C372.04 82.6617 377.835 88.4561 377.835 95.5957C377.835 102.735 372.04 108.53 364.901 108.53C357.761 108.53 351.967 102.735 351.967 95.5957C351.967 88.4561 357.761 82.6617 364.901 82.6617Z" />
</g>
<g id="c34" class={styles.circle}>
<path id="Vector_27" d="M330.216 65.8088C337.356 65.8088 343.15 71.6032 343.15 78.7428C343.15 85.8824 337.356 91.6768 330.216 91.6768C323.077 91.6768 317.282 85.8824 317.282 78.7428C317.282 71.6032 323.077 65.8088 330.216 65.8088Z" />
</g>
<g id="c30" class={styles.circle}>
<path id="Vector_28" d="M249.516 86.6815C256.655 86.6815 262.45 92.4759 262.45 99.6155C262.45 106.755 256.655 112.55 249.516 112.55C242.376 112.55 236.582 106.755 236.582 99.6155C236.582 92.4759 242.376 86.6815 249.516 86.6815Z" />
</g>
<g id="c31" class={styles.circle}>
<path id="Vector_29" d="M265.046 39.9408C272.186 39.9408 277.98 45.7352 277.98 52.8748C277.98 60.0144 272.186 65.8088 265.046 65.8088C257.907 65.8088 252.112 60.0143 252.112 52.8748C252.112 45.7352 257.907 39.9408 265.046 39.9408Z" />
</g>
<g id="c35" class={styles.circle}>
<path id="Vector_30" d="M377.835 204.877C384.974 204.877 390.769 210.671 390.769 217.811C390.769 224.95 384.974 230.745 377.835 230.745C370.695 230.745 364.901 224.95 364.901 217.811C364.901 210.671 370.695 204.877 377.835 204.877Z" />
</g>
<g id="c36" class={styles.circle}>
<path id="Vector_31" d="M450.617 185.281C457.757 185.281 463.551 191.076 463.551 198.215C463.551 205.355 457.757 211.149 450.617 211.149C443.477 211.149 437.683 205.355 437.683 198.215C437.683 191.076 443.477 185.281 450.617 185.281Z" />
</g>
<g id="c38" class={styles.circle}>
<path id="Vector_32" d="M437.26 124.5C444.399 124.5 450.194 130.294 450.194 137.434C450.194 144.573 444.399 150.368 437.26 150.368C430.12 150.368 424.326 144.573 424.326 137.434C424.326 130.294 430.12 124.5 437.26 124.5Z" />
</g>
<g id="c39" class={styles.circle}>
<path id="Vector_33" d="M452.835 83.8787C459.974 83.8787 465.769 89.6731 465.769 96.8127C465.769 103.952 459.974 109.747 452.835 109.747C445.695 109.747 439.901 103.952 439.901 96.8127C439.901 89.6731 445.695 83.8787 452.835 83.8787Z" />
</g>
<g id="c37" class={styles.circle}>
<path id="Vector_34" d="M509.404 112.549C516.544 112.549 522.338 118.344 522.338 125.484C522.338 132.623 516.544 138.418 509.404 138.418C502.264 138.418 496.47 132.623 496.47 125.484C496.47 118.344 502.265 112.549 509.404 112.549Z" />
</g>
<g id="c25" class={styles.circle}>
<path id="Vector_35" d="M460.748 271.32C467.888 271.32 473.682 277.115 473.682 284.254C473.682 291.394 467.888 297.188 460.748 297.188C453.608 297.188 447.814 291.394 447.814 284.254C447.814 277.115 453.608 271.32 460.748 271.32Z" />
</g>
<g id="c21" class={styles.circle}>
<path id="Vector_36" d="M429.447 374.403C436.587 374.403 442.381 380.197 442.381 387.337C442.381 394.477 436.587 400.271 429.447 400.271C422.308 400.271 416.513 394.477 416.513 387.337C416.513 380.197 422.308 374.403 429.447 374.403Z" />
</g>
<g id="c22" class={styles.circle}>
<path id="Vector_37" d="M501.111 381.994C508.25 381.994 514.045 387.789 514.045 394.928C514.045 402.068 508.25 407.862 501.111 407.862C493.971 407.862 488.177 402.068 488.177 394.928C488.177 387.789 493.971 381.994 501.111 381.994Z"/>
</g>
<g id="c26" class={styles.circle}>
<path id="Vector_38" d="M519.417 267.066C526.557 267.066 532.351 272.86 532.351 280C532.351 287.14 526.557 292.934 519.417 292.934C512.278 292.934 506.483 287.14 506.483 280C506.483 272.86 512.278 267.066 519.417 267.066Z" />
</g>
<g id="c16" class={styles.circle}>
<path id="Vector_39" d="M97.1515 32.5114C104.291 32.5114 110.085 38.3059 110.085 45.4454C110.085 52.585 104.291 58.3794 97.1515 58.3794C90.0119 58.3794 84.2175 52.585 84.2175 45.4454C84.2175 38.3058 90.0119 32.5114 97.1515 32.5114Z" />
</g>
<g id="c15" class={styles.circle}>
<path id="Vector_40" d="M156.87 32.5114C164.01 32.5114 169.804 38.3059 169.804 45.4454C169.804 52.585 164.01 58.3794 156.87 58.3794C149.73 58.3794 143.936 52.585 143.936 45.4454C143.936 38.3058 149.73 32.5114 156.87 32.5114Z" />
</g>
</g>
    <polyline id="line_1" class={styles.drawLine} points="288.414,533.51 265.198,482.326 235,450, 208,350, 147,325, 82.5,310.4"stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_2" class={styles.drawLine} points= "235,450, 245,372" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_3" class={styles.drawLine} points= "147,325 83,245 56,190" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_3" class={styles.drawLine} points= "208,350 175,290 167,134 140,90 100,50" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_4" class={styles.drawLine} points= "140,90 155,50" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_5" class={styles.drawLine} points= "168,135 206,100 190,60" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_6" class={styles.drawLine} points= "292,533.51 310,458 315,380 337,270 315,207 280,160 250,100 265,50" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_7" class={styles.drawLine} points= "315,380 283,325" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_8" class={styles.drawLine} points= "315,207 330,148 330,77" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_9" class={styles.drawLine} points= "330,148 364,95" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_10" class={styles.drawLine} points= "310,458 366,378 427,389 502,393" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_11" class={styles.drawLine} points= "366,378 390,323 453,329 459,285 519,280" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_12" class={styles.drawLine} points= "337,270 377,218 450,200 510,125" stroke="#1e1e1e" strokeWidth="2"/>
    <polyline id="line_13" class={styles.drawLine} points= "377,218 438,137 453,95" stroke="#1e1e1e" strokeWidth="2"/>


</svg>

  )
}

export default Tree